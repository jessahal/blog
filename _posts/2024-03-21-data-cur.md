---
layout: post
title:  "A Fast Guide to APIs and Data Curation using even Faster Data"
date: 2024-03-21
description: "A walkthrough on collecting data from an API using one of the most iconic F1 drivers: Lewis Hamilton"
image: "/assets/img/Lewis_Ham1.jpg"
display_image: false
---
<p class="intro"><span class="dropcap">D</span>ata is in EVERYTHING. Every action we take creates new data, and learning how to harness this data can help us better understand the world around us. In this post, I'll take you through a quick walkthrough on using APIs and Data curation using some of the quickest data I could find- Formula 1 Racing data.

I absolutely love F1 racing. I love the fast cars, intense races, team dynamics, and the drivers. In F1, there are so many elements that go into a good race and driver's performance. Throughout this post, I'll show you how to use <a href = 'https://ergast.com/mrd/' target ="_blank">Ergast's open F1 API</a> to create a custom data set with stats on one of the best drivers in Formula 1 history: Lewis Hamilton. The best part? I'll explain what we're doing step by step, making it easy for you to customize which driver or which stats YOU want. 

Our data set can help us see trends in the racing patterns/wins of specific drivers (in my data frame's case, Lewis Hamilton). In another post we'll go into more detail about what we can do with this data and explore further what insights we can gain.

Completed Code and Data Sets can be found in <a href = 'git@github.com:jessahal/data-scraping.git' target="_blank">My Github Repo</a>
</p>

<figure>
<img src="https://jessahal.github.io/blog/assets/img/Lewis_pic.avif" alt="" style="width:600px;"/>
<figcaption>Image Source: <a href="https://www.formula1.com/en/drivers/lewis-hamilton.html" target="_blank">Formula1.com</a>
</figcaption>
</figure>

### Good API/Data Scraping Practice

Before we begin our API/data scraping process to get our F1 data set, let's talk about some best practices. 

When using API keys, there are rules and pratices you'll want to follow to ensure you are using the data in ethical and allowable ways and following the guidelines set up by the owners. For our F1 data set, Ergast is a free and open API that does not require an API key. When you are finding your own APIs, make sure to pay close attention to the guidelines set up by the system owners. 

On the <a href = 'https://ergast.com/mrd/terms/' target ="_blank">Terms and Conditions Page</a> of Ergast's website, they go through some of their policies on their API. Their data is free for anyone to use, but cannot be used in an application or service that is going to charge. They have some responsible use guidelines directing users to good practices. Whenever you are using an API, make sure to check out their documentation and terms and conditions to make sure you comply with their guildelines. 

## Data Collection
### Tools and Packages

In Python, I used Pandas, Numpy, and the Requests packages in my data curation. I also imported Matplotlib and Seaborn to give a sneak peak at our EDA, which will be shown in the next post. 

### Step 1: Find Your Endpoints

Our <a href = 'https://ergast.com/mrd/' target ="_blank">Ergast F1 API</a> takes us to their main webpage showing the documentation of the API and how to navigate through it. 

Using APIs requires a GET request (using the requests package) using a URL where you specify what exactly you want to pull from the API. In our case, our URL would look like the following:

{%- highlight python -%}
f1_base = "https://ergast.com/api/f1"
# This code, when added to the f1_base api, lets us choose which driver
# Before adding results, we retrieve information on Hamilton directly. 
# Adding /results returns the results and stats on Hamilton's races
hamilton = '/drivers/hamilton/results.json'

# Limit lets us choose how much data we want our api to return
params = {'limit': 500}

# Combine the Base URL and our Racer's specifics
ham_url = f1_base + hamilton
{%- endhighlight python -%}

AHHHHHH